<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Managing AI Prompts in `searcher` • searcher</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Managing AI Prompts in `searcher`">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-primary" data-bs-theme="dark" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">searcher</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.7.2</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/search-patterns.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/search-patterns.html">Search Patterns</a></li>
    <li><a class="dropdown-item" href="../articles/search-with-ai-assistants.html">Search with AI Assistants</a></li>
    <li><a class="dropdown-item" href="../articles/managing-ai-prompts.html">Managing AI Prompts in `searcher`</a></li>
  </ul>
</li>
<li class="nav-item"><a class="nav-link" href="../news/index.html">Changelog</a></li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/coatless-rpkg/searcher" aria-label="View on GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Managing AI Prompts in `searcher`</h1>
                        <h4 data-toc-skip class="author">James Joseph
Balamuta</h4>
            
            <h4 data-toc-skip class="date">2025-05-20</h4>
      
      <small class="dont-index">Source: <a href="https://github.com/coatless-rpkg/searcher/blob/main/vignettes/managing-ai-prompts.Rmd" class="external-link"><code>vignettes/managing-ai-prompts.Rmd</code></a></small>
      <div class="d-none name"><code>managing-ai-prompts.Rmd</code></div>
    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>The <code>searcher</code> package includes a powerful prompt
management system for working with AI assistants. This vignette explains
how to use this system to create, manage, and apply effective prompts
when using AI search functions. It complements the main
<code><a href="../articles/search-with-ai-assistants.html">vignette("search-with-ai-assistants", package = "searcher")</a></code>,
which provides a broader overview of using AI services with R.</p>
<div class="section level3">
<h3 id="what-are-prompts">What are Prompts?<a class="anchor" aria-label="anchor" href="#what-are-prompts"></a>
</h3>
<p>Prompts are instructions that guide how an AI assistant should
respond to your queries. A well-crafted prompt can dramatically improve
the quality and relevance of AI responses for R programming tasks.</p>
</div>
</div>
<div class="section level2">
<h2 id="the-prompt-management-system">The Prompt Management System<a class="anchor" aria-label="anchor" href="#the-prompt-management-system"></a>
</h2>
<p>The <code>searcher</code> package provides a multi-level prompt
system:</p>
<ol style="list-style-type: decimal">
<li>
<strong>System-level prompts</strong>: Set with
<code><a href="../reference/ai_prompt.html">ai_prompt()</a></code>, these apply across all AI services</li>
<li>
<strong>Service-specific prompts</strong>: Set with
<code><a href="https://rdrr.io/r/base/options.html" class="external-link">options()</a></code> or within function calls</li>
<li>
<strong>Default prompts</strong>: Built-in prompts that ship with
the package</li>
</ol>
<p>When you search with an AI assistant, prompts are applied in this
order (with the query at the end).</p>
<div class="section level3">
<h3 id="built-in-prompt-library">Built-in Prompt Library<a class="anchor" aria-label="anchor" href="#built-in-prompt-library"></a>
</h3>
<p>The package comes with several pre-defined prompts optimized for
different R programming scenarios:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># List available prompts</span></span>
<span><span class="fu"><a href="../reference/ai_prompt_list.html">ai_prompt_list</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<p>This will show prompts like:</p>
<ul>
<li>
<code>general</code>: Balanced for general R questions and
errors</li>
<li>
<code>debugging</code>: For identifying and fixing bugs in R
code</li>
<li>
<code>learning</code>: For learning R concepts with progressive
complexity</li>
<li>
<code>package_selection</code>: For comparing R packages with
balanced analysis</li>
<li>
<code>code_review</code>: For evaluating and improving R code</li>
<li>
<code>stats_analysis</code>: For statistical analysis in R</li>
<li>
<code>visualization</code>: For creating effective data
visualizations</li>
</ul>
</div>
<div class="section level3">
<h3 id="setting-an-active-prompt">Setting an Active Prompt<a class="anchor" aria-label="anchor" href="#setting-an-active-prompt"></a>
</h3>
<p>To set a system-level prompt that will be used with all AI search
functions:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Use a built-in prompt</span></span>
<span><span class="fu"><a href="../reference/ai_prompt.html">ai_prompt</a></span><span class="op">(</span><span class="st">"debugging"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Then search with any AI service</span></span>
<span><span class="fu"><a href="../reference/ask_chatgpt.html">ask_chatgpt</a></span><span class="op">(</span><span class="st">"Error: object 'mtcrs' not found"</span><span class="op">)</span>  <span class="co"># Note the typo</span></span></code></pre></div>
<p>You’ll see a message indicating which prompt is being used:</p>
<pre><code>Using prompts: system (debugging)
Searching query in a web browser...</code></pre>
<p>The AI will receive both your prompt instruction and the query,
helping it respond more effectively.</p>
</div>
<div class="section level3">
<h3 id="using-custom-prompts">Using Custom Prompts<a class="anchor" aria-label="anchor" href="#using-custom-prompts"></a>
</h3>
<p>You can also use a custom prompt text directly:</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set a custom prompt</span></span>
<span><span class="fu"><a href="../reference/ai_prompt.html">ai_prompt</a></span><span class="op">(</span><span class="st">"As an R package developer, explain this error in terms of how R handles namespaces:"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Check the active prompt</span></span>
<span><span class="fu"><a href="../reference/ai_prompt_active.html">ai_prompt_active</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="checking-and-clearing-prompts">Checking and Clearing Prompts<a class="anchor" aria-label="anchor" href="#checking-and-clearing-prompts"></a>
</h3>
<p>You can check the currently active prompt or clear it:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Check currently active prompt</span></span>
<span><span class="fu"><a href="../reference/ai_prompt.html">ai_prompt</a></span><span class="op">(</span><span class="op">)</span></span>
<span><span class="co"># or</span></span>
<span><span class="fu"><a href="../reference/ai_prompt_active.html">ai_prompt_active</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Clear the active prompt</span></span>
<span><span class="fu"><a href="../reference/ai_prompt.html">ai_prompt</a></span><span class="op">(</span><span class="cn">NA</span><span class="op">)</span></span>
<span><span class="co"># or</span></span>
<span><span class="fu"><a href="../reference/ai_prompt_clear.html">ai_prompt_clear</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="extending-the-prompt-library">Extending the Prompt Library<a class="anchor" aria-label="anchor" href="#extending-the-prompt-library"></a>
</h3>
<p>You can add your own prompts to the library:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Register a new prompt</span></span>
<span><span class="fu"><a href="../reference/ai_prompt_register.html">ai_prompt_register</a></span><span class="op">(</span></span>
<span>  <span class="st">"shiny_expert"</span>,</span>
<span>  <span class="st">"As a Shiny app developer, explain how to implement this UI feature or fix this reactive issue:"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use your new prompt</span></span>
<span><span class="fu"><a href="../reference/ai_prompt.html">ai_prompt</a></span><span class="op">(</span><span class="st">"shiny_expert"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="removing-prompts">Removing Prompts<a class="anchor" aria-label="anchor" href="#removing-prompts"></a>
</h3>
<p>To remove a prompt from the library:</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/ai_prompt_remove.html">ai_prompt_remove</a></span><span class="op">(</span><span class="st">"shiny_expert"</span><span class="op">)</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="advanced-usage">Advanced Usage<a class="anchor" aria-label="anchor" href="#advanced-usage"></a>
</h2>
<p>In this section, we will explore more advanced usage of the prompt
system. This includes layering multiple prompts, creating a session
prompt library, and managing prompts in your <code>.Rprofile</code> for
persistent settings.</p>
<div class="section level3">
<h3 id="prompt-layering">Prompt Layering<a class="anchor" aria-label="anchor" href="#prompt-layering"></a>
</h3>
<p>The prompt system supports layering multiple prompts:</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Set a system-level prompt</span></span>
<span><span class="fu"><a href="../reference/ai_prompt.html">ai_prompt</a></span><span class="op">(</span><span class="st">"debugging"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Use with service-specific default prompt</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span>searcher.claude_prompt <span class="op">=</span> <span class="st">"Focus on tidyverse solutions:"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Then use with a function-call prompt</span></span>
<span><span class="fu"><a href="../reference/ask_claude.html">ask_claude</a></span><span class="op">(</span><span class="st">"Error in filter(data, x &gt; 0): object 'x' not found"</span>, </span>
<span>             prompt <span class="op">=</span> <span class="st">"Explain in simple terms:"</span><span class="op">)</span></span></code></pre></div>
<p>This will use all three prompts in order (debugging, “Focus on
tidyverse solutions”, and “Explain in simple terms”) before the
query.</p>
</div>
<div class="section level3">
<h3 id="creating-a-session-prompt-library">Creating a Session Prompt Library<a class="anchor" aria-label="anchor" href="#creating-a-session-prompt-library"></a>
</h3>
<p>For more advanced usage, you can create a custom prompt library in
your R session:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Create custom prompts for different projects</span></span>
<span><span class="fu"><a href="../reference/ai_prompt_register.html">ai_prompt_register</a></span><span class="op">(</span><span class="st">"my_package"</span>, <span class="st">"As an R package developer reviewing the 'mypackage' codebase."</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ai_prompt_register.html">ai_prompt_register</a></span><span class="op">(</span><span class="st">"data_cleaning"</span>, <span class="st">"Analyzing the customer_data.csv dataset with missing values."</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/ai_prompt_register.html">ai_prompt_register</a></span><span class="op">(</span><span class="st">"reporting"</span>, <span class="st">"Create a Quarto document report for business stakeholders."</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Switch between contexts as you work</span></span>
<span><span class="fu"><a href="../reference/ai_prompt.html">ai_prompt</a></span><span class="op">(</span><span class="st">"my_package"</span><span class="op">)</span></span>
<span><span class="co"># ... work on package development ...</span></span>
<span></span>
<span><span class="fu"><a href="../reference/ai_prompt.html">ai_prompt</a></span><span class="op">(</span><span class="st">"data_cleaning"</span><span class="op">)</span></span>
<span><span class="co"># ... work on data cleaning ...</span></span></code></pre></div>
</div>
<div class="section level3">
<h3 id="prompt-management-in--rprofile">Prompt Management in .Rprofile<a class="anchor" aria-label="anchor" href="#prompt-management-in--rprofile"></a>
</h3>
<p>For persistent prompt management, you can add code to your
<code>.Rprofile</code> This file is executed every time you start R,
allowing you to set up your environment. Most users will have a
<code>.Rprofile</code> file in their home directory. You can create or
edit this file to include your prompt management code.</p>
<p>To create or edit the <code>.Rprofile</code> file, you can use the
following command in R:</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Creating or editing the file:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/file.edit.html" class="external-link">file.edit</a></span><span class="op">(</span><span class="st">"~/.Rprofile"</span><span class="op">)</span></span></code></pre></div>
<p>Then, you can add the following code to set up your prompt management
system:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># In .Rprofile</span></span>
<span><span class="va">.First</span> <span class="op">&lt;-</span> <span class="kw">function</span><span class="op">(</span><span class="op">)</span> <span class="op">{</span></span>
<span>  <span class="kw">if</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/ns-load.html" class="external-link">requireNamespace</a></span><span class="op">(</span><span class="st">"searcher"</span>, quietly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span><span class="op">)</span> <span class="op">{</span></span>
<span>    <span class="co"># Register custom prompts</span></span>
<span>    <span class="fu">searcher</span><span class="fu">::</span><span class="fu"><a href="../reference/ai_prompt_register.html">ai_prompt_register</a></span><span class="op">(</span></span>
<span>      <span class="st">"work"</span>,</span>
<span>      <span class="st">"As an R analyst at XYZ company working with our sales database:"</span>, </span>
<span>      overwrite <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Set default prompts for different AI services</span></span>
<span>    <span class="fu"><a href="https://rdrr.io/r/base/options.html" class="external-link">options</a></span><span class="op">(</span></span>
<span>      searcher.chatgpt_prompt <span class="op">=</span> <span class="st">"Provide R code with tidyverse packages:"</span>,</span>
<span>      searcher.claude_prompt <span class="op">=</span> <span class="st">"Give me both base R and tidyverse solutions:"</span></span>
<span>    <span class="op">)</span></span>
<span>    </span>
<span>    <span class="co"># Set a default system-level prompt if desired</span></span>
<span>    <span class="co"># searcher::ai_prompt("debugging")</span></span>
<span>  <span class="op">}</span></span>
<span><span class="op">}</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="conclusion">Conclusion<a class="anchor" aria-label="anchor" href="#conclusion"></a>
</h2>
<p>The prompt management system in <code>searcher</code> provides a
flexible and powerful way to create, manage, and apply prompts for AI
search functions. Through using system-level prompts, service-specific
prompts, and custom prompts, you can tailor the AI’s responses to your
specific needs and context. This approach enhances the quality of
AI-generated responses and, subsequently, helps you save time and
improve the efficiency of your R workflow.</p>
<p>The system presented in this vignette transforms the custom prompts
described in
<code><a href="../articles/search-with-ai-assistants.html">vignette("search-with-ai-assistants", package = "searcher")</a></code>
from one-off tools into a systematic library that can be maintained,
shared, and reused. This represents a shift from ad-hoc prompting to a
more deliberate approach that treats prompts as valuable assets in your
R programming toolkit.</p>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by <a href="https://blog.thecoatlessprofessor.com" class="external-link">James Balamuta</a>.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a>. Distributed under GPL (&gt;= 2) license.</p>
</div>

    </footer>
</div>





  </body>
</html>
